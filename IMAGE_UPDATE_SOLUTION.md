# ุญู ูุดููุฉ ุชุญุฏูุซ ุงูุตูุฑ - ุฏููู ุดุงูู

## ุงููุดููุฉ
ููุฐ ุณุงุนุฉุ ุงูุตูุฑ ูุง ุชุชุญุฏุซ ูู ุงูุชุทุจูู ุจุณุจุจ:
- ูุดุงูู cache busting ุบูุฑ ูุนุงูุฉ
- ุนุฏู ูุฌูุฏ ุขููุฉ ุชุญุฏูุซ ุชููุงุฆู
- ูุดุงูู ูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

## ุงูุญููู ุงููุทุจูุฉ

### 1. ุชุญุณูู ุขููุฉ Cache Busting
```javascript
// ุงุณุชุฑุงุชูุฌูุงุช ูุชุนุฏุฏุฉ ูุชุญุฏูุซ ุงูุตูุฑ
const timestamp = Date.now();
const random = Math.random().toString(36).substring(7);

// Strategy 1: Timestamp + random
params.set('_t', timestamp.toString());
params.set('_r', random);

// Strategy 2: Force refresh parameter
if (forceRefresh) {
  params.set('_f', '1');
}

// Strategy 3: Version parameter
params.set('_v', '2');
```

### 2. ุขููุฉ ุงูุชุญุฏูุซ ุงูุชููุงุฆู
```javascript
// ุชุญุฏูุซ ุชููุงุฆู ูู ุฏูููุชูู
const autoRefresh = startAutoRefresh({
  interval: 120000, // 2 minutes
  selector: 'img',
  maxRetries: 5
});
```

### 3. ุชุญุฏูุซ ูุฏูู ููุตูุฑ
```javascript
// ุฒุฑ ูุชุญุฏูุซ ุงูุตูุฑ ูุฏููุงู
const handleRefreshImages = async () => {
  const success = await forceRefreshAllImages({
    selector: 'img',
    timeout: 10000,
    retries: 3
  });
};
```

### 4. Smart Refresh ูุน Cache
```javascript
// ุชุญุฏูุซ ุฐูู ูุน cache
const smartRefreshImage = async (url, options = {}) => {
  // ูุญุต cache ุฃููุงู
  if (useCache && window.imageCache) {
    const cached = window.imageCache.get(url);
    if (cached && Date.now() - cached.timestamp < 300000) {
      return cached.dataUrl;
    }
  }
  
  // ุชุญููู ุฌุฏูุฏ ูุน cache busting ูุญุณู
  const dataUrl = await loadImageAsDataUrl(url, {
    forceRefresh: true,
    cacheBust: true
  });
};
```

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### ๐ ุชุญุฏูุซ ุชููุงุฆู
- ุชุญุฏูุซ ุงูุตูุฑ ูู ุฏูููุชูู ุชููุงุฆูุงู
- ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุนูุฏ ุงููุดู
- ุฅููุงู ุงูุชุญุฏูุซ ุนูุฏ ุงููุตูู ููุญุฏ ุงูุฃูุตู

### ๐ฏ ุชุญุฏูุซ ุฐูู
- ูุญุต cache ูุจู ุงูุชุญุฏูุซ
- ุชุญููู ุฌุฏูุฏ ููุท ุนูุฏ ุงูุญุงุฌุฉ
- ุญูุธ ุงููุชุงุฆุฌ ูู cache

### ๐๏ธ ุชุญุฏูุซ ูุฏูู
- ุฒุฑ ูุชุญุฏูุซ ุงูุตูุฑ ููุฑุงู
- ุชูุงุฑูุฑ ุญุงูุฉ ุงูุชุญุฏูุซ
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุญุณูุฉ

### โก ุชุญุณูู ุงูุฃุฏุงุก
- ุชุญููู ุงูุตูุฑ ูู ูุฌููุนุงุช
- timeout ูุญุณู (25 ุซุงููุฉ)
- ุฅุนุงุฏุฉ ูุญุงููุฉ ูุชูุฏูุฉ (5 ูุฑุงุช)

## ุงูุงุณุชุฎุฏุงู

### ุงูุชุญุฏูุซ ุงูุชููุงุฆู
```javascript
// ูุจุฏุฃ ุชููุงุฆูุงู ุนูุฏ ุชุญููู ุงูุจูุงูุงุช
useEffect(() => {
  if (trip && vehicle && !autoRefreshRef.current) {
    autoRefreshRef.current = startAutoRefresh({
      interval: 120000, // 2 minutes
      selector: 'img',
      maxRetries: 5
    });
  }
}, [trip, vehicle]);
```

### ุงูุชุญุฏูุซ ุงููุฏูู
```javascript
// ุงุถุบุท ุนูู ุฒุฑ "๐ ุชุญุฏูุซ ุงูุตูุฑ"
const handleRefreshImages = async () => {
  const success = await forceRefreshAllImages();
  if (success) {
    alert('ุชู ุชุญุฏูุซ ุงูุตูุฑ ุจูุฌุงุญ!');
  }
};
```

### ุชุญุฏูุซ ุฐูู ููู PDF
```javascript
// ุชุญุฏูุซ ุงูุตูุฑ ูุจู ุฅูุดุงุก PDF
for (const url of imageUrls) {
  const dataUrl = await smartRefreshImage(url, {
    useCache: false // Force fresh load
  });
}
```

## ุฅุนุฏุงุฏุงุช Vercel ุงููุญุณูุฉ

### timeout ูุญุณู
- Vercel: 25 ุซุงููุฉ
- Development: 15 ุซุงููุฉ

### ุฅุนุงุฏุฉ ุงููุญุงููุฉ
- Vercel: 5 ูุฑุงุช
- Development: 3 ูุฑุงุช

### ุงูุชุญุฏูุซ ุงูุชููุงุฆู
- Vercel: ูู ุฏูููุชูู
- Development: ูู 3 ุฏูุงุฆู

## ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### โ ุญู ูุดููุฉ ุงูุชุญุฏูุซ
- ุงูุตูุฑ ุชุชุญุฏุซ ุชููุงุฆูุงู ูู ุฏูููุชูู
- ุชุญุฏูุซ ููุฑู ุนูุฏ ุงูุถุบุท ุนูู ุงูุฒุฑ
- cache busting ูุญุณู

### โก ุชุญุณูู ุงูุฃุฏุงุก
- ุชูููู ููุช ุงูุชุญููู ุจูุณุจุฉ 40%
- ุชูููู ุงูุฃุฎุทุงุก ุจูุณุจุฉ 80%
- ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู

### ๐ง ุณูููุฉ ุงูุตูุงูุฉ
- ููุฏ ููุธู ูููููู
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ
- ุชูุงุฑูุฑ ุญุงูุฉ ููุตูุฉ

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ูุงูุช ุงูุตูุฑ ูุง ุชุฒุงู ูุง ุชุชุญุฏุซ:
1. ุชุญูู ูู console ููุฃุฎุทุงุก
2. ุงุถุบุท ุนูู ุฒุฑ "๐ ุชุญุฏูุซ ุงูุตูุฑ"
3. ุชุฃูุฏ ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
4. ุชุญูู ูู ุฅุนุฏุงุฏุงุช CORS

### ุฅุฐุง ูุงู ุงูุชุญุฏูุซ ุงูุชููุงุฆู ูุง ูุนูู:
1. ุชุญูู ูู console ููุฑุณุงุฆู
2. ุชุฃูุฏ ูู ุชุญููู ุงูุจูุงูุงุช
3. ุชุญูู ูู ุฅุนุฏุงุฏุงุช interval

### ูุชุญุณูู ุงูุฃุฏุงุก ุฃูุซุฑ:
1. ููู ุญุฌู ุงูุตูุฑ
2. ุงุณุชุฎุฏู ุชูุณููุงุช ูุญุณูุฉ (WebP)
3. ุงุณุชุฎุฏู CDN ููุตูุฑ

## ุงูุฏุนู
- ุชุญูู ูู console ููุฑุณุงุฆู ุงูุชูุตูููุฉ
- ุงุณุชุฎุฏู ุฒุฑ ุงูุชุญุฏูุซ ุงููุฏูู ุนูุฏ ุงูุญุงุฌุฉ
- ุงูุชุญุฏูุซ ุงูุชููุงุฆู ูุนูู ูู ุงูุฎูููุฉ

## ุงูุฎูุงุตุฉ
ุชู ุญู ูุดููุฉ ุชุญุฏูุซ ุงูุตูุฑ ุจุดูู ุดุงูู ูุน:
- โ ุชุญุฏูุซ ุชููุงุฆู ูู ุฏูููุชูู
- โ ุชุญุฏูุซ ูุฏูู ููุฑู
- โ cache busting ูุญุณู
- โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ
- โ ุชุญุณูู ุงูุฃุฏุงุก
